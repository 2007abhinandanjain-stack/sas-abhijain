:root{
  --dark-1:#071026;
  --dark-2:#0e1a2b;
  --accent:#2f80ed;
  --accent2:#00ffd0;
  --text:#eaf4ff;
  --muted:#9fb6d8;
  --success:#27ae60;
  --danger:#e74c3c;
  --purple:#8e44ad;
  --saffron:#ff9933;
  --green:#138808;
  --chakra-color:#0b3b6f;
  --touch-min:52px; /* comfortable touch target */
}

/* Basic reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  background: linear-gradient(180deg,var(--dark-1),var(--dark-2));
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow-y:auto;
  -webkit-tap-highlight-color: transparent;
}

/* Top bar */
.top-bar{
  position:fixed;left:0;right:0;top:0;height:88px;display:flex;align-items:center;
  justify-content:space-between;padding:10px 18px;z-index:40;pointer-events:none;
}
.left-group, .right-tricolor{display:flex;align-items:center;gap:10px;pointer-events:auto}
.center-title{pointer-events:auto;text-align:center;flex:1}
#main-title{
  margin:0;font-family:"Baloo 2", "Poppins", sans-serif;font-size:20px;
  background: linear-gradient(90deg,#2f80ed,#00ffd0,#cfefff);-webkit-background-clip:text;background-clip:text;color:transparent;
  letter-spacing:0.4px;
}
.tagline{font-size:12px;color:var(--muted);margin-top:4px}

/* rupee & theme */
.rupee{font-size:28px;color:gold;font-weight:700;animation:rupeeFloat 3s infinite}
@keyframes rupeeFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
.theme-btn{margin-left:6px;background:transparent;border-radius:8px;border:0;padding:10px;cursor:pointer;color:var(--muted);min-height:var(--touch-min)}

/* tricolor + rotating chakra */
.right-tricolor{gap:6px}
.tri{width:56px;height:36px;border-radius:6px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,0.35)}
.saffron{background:var(--saffron);transform-origin:center;animation:triWave 2.2s ease-in-out infinite}
.white{background:#ffffff;display:flex;align-items:center;justify-content:center;position:relative}
.green{background:var(--green);animation:triWave 2.4s ease-in-out infinite}
.chakra{width:18px;height:18px;border-radius:50%;border:3px solid var(--chakra-color);box-shadow:inset 0 0 0 2px rgba(11,59,111,0.08);animation:spin 4s linear infinite}
@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
@keyframes triWave{0%{transform:translateY(0)}50%{transform:translateY(2px)}100%{transform:translateY(0)}}

/* Animated tricolor flowing background */
body::before{
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  background: linear-gradient(90deg, rgba(255,153,51,0.06), rgba(255,255,255,0.03), rgba(19,136,8,0.04));
  background-size: 400% 400%;
  animation: tricolorFlow 18s ease infinite;
  pointer-events: none;
}
@keyframes tricolorFlow{
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* storm / chakra shapes (decorative) */
.storm-bg{position:fixed;inset:0;z-index:1;pointer-events:none;overflow:hidden}
.cloud{position:absolute;width:160%;height:220px;left:-20%;background:radial-gradient(circle at 50% 40%, rgba(255,255,255,0.02), transparent);filter:blur(28px);opacity:0.06}
.cloud-a{top:2%;animation:cloudMoveA 42s linear infinite}
.cloud-b{top:26%;animation:cloudMoveB 58s linear infinite;opacity:0.04}
@keyframes cloudMoveA{0%{transform:translateX(-12%)}100%{transform:translateX(12%)}}
@keyframes cloudMoveB{0%{transform:translateX(12%)}100%{transform:translateX(-12%)}}

/* chakra background elements (decorative) */
.chakra-bg{position:absolute;inset:0;z-index:2;pointer-events:none;background:
  radial-gradient(circle at 25% 20%, rgba(255,153,51,0.02), transparent 8%),
  radial-gradient(circle at 75% 80%, rgba(19,136,8,0.02), transparent 10%),
  linear-gradient(180deg, rgba(255,153,51,0.02), transparent 45%, rgba(19,136,8,0.02));opacity:1}

/* subtle flash for visual rhythm */
.flash-overlay{position:absolute;inset:0;mix-blend-mode:screen;animation:softFlash 8s infinite;pointer-events:none}
@keyframes softFlash{
  0%,30%,60%,100%{background:transparent}
  31%{background:rgba(255,255,255,0.02)}
  61%{background:rgba(255,255,255,0.01)}
}

/* blink overlay during alarm */
.blink-overlay{position:fixed;inset:0;z-index:90;pointer-events:none;background:transparent}
body.alarm-active .blink-overlay{
  animation: redBlink 0.5s steps(2) infinite;
}
@keyframes redBlink{
  0%{background:rgba(255,0,0,0.18)}
  50%{background:rgba(255,0,0,0.02)}
  100%{background:rgba(255,0,0,0.18)}
}

/* alarm overlay */
.alarm-overlay{position:fixed;inset:0;z-index:100;background:rgba(180,20,20,0.18);display:flex;align-items:center;justify-content:center}
.alarm-box{background:rgba(255,255,255,0.06);padding:20px;border-radius:12px;color:white;border:2px solid rgba(255,255,255,0.08);text-align:center;box-shadow:0 10px 40px rgba(0,0,0,0.6)}
.hidden{display:none}

/* main layout */
.main-wrap{position:relative;z-index:10;padding-top:120px;padding-bottom:80px;min-height:100vh;display:flex;flex-direction:column;align-items:center}
.center-card{max-width:420px;text-align:center}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:14px;padding:18px;box-shadow:0 12px 40px rgba(2,6,23,0.5);backdrop-filter:blur(6px);width:92%;max-width:720px;margin:14px}
h2{margin:6px 0 10px 0}
.lead{color:var(--muted);margin-bottom:12px}

/* inputs & buttons â€” larger touch targets */
input{width:100%;padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--text);outline:none;margin-top:10px;font-size:16px}
.row{display:flex;gap:12px;flex-wrap:wrap;margin-top:14px}
.btn{flex:1;padding:14px 16px;border-radius:12px;border:0;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));color:var(--text);cursor:pointer;transition:transform .12s ease,box-shadow .12s ease;box-shadow:0 8px 26px rgba(0,0,0,0.45);min-height:var(--touch-min)}
.btn:active{transform:translateY(0)}
.btn:hover{transform:translateY(-2px);box-shadow:0 18px 40px rgba(0,0,0,0.55)}
.btn.large{padding:16px 18px;font-size:18px;border-radius:14px}
.btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));box-shadow:0 10px 36px rgba(47,128,237,0.16)}
.btn.success{background:linear-gradient(90deg,#2ecc71,#00d68f)}
.btn.danger{background:linear-gradient(90deg,#ff6b6b,#f44336)}
.btn.purple{background:linear-gradient(90deg,var(--purple),#a86bd6)}
.btn[disabled]{opacity:.6;cursor:not-allowed}

/* eye button */
.pin-wrapper{position:relative;margin-top:10px}
.eye-btn{position:absolute;right:12px;top:10px;background:transparent;border:0;color:var(--muted);cursor:pointer;font-size:18px;padding:6px}

/* atm header inside dashboard */
.atm-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.balance-box{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:10px;border-radius:12px;text-align:right}
.balance-amount{font-size:22px;font-weight:700}

/* history */
.history-list{max-height:260px;overflow:auto;padding:8px;border-radius:8px;background:linear-gradient(180deg,rgba(0,0,0,0.12),transparent)}
.history-item{padding:8px;border-bottom:1px dashed rgba(255,255,255,0.03);font-size:13px;color:var(--muted)}
.small{font-size:13px;color:var(--muted)}

/* footer */
.footer{text-align:center;color:var(--muted);margin-top:18px;font-size:13px}

/* responsive tweaks */
@media (min-width:900px){
  .card{max-width:920px}
  .center-card{max-width:460px}
}
@media (max-width:899px){
  .center-title{display:none}
  .right-tricolor{display:flex}
  body::before { background-size: 200% 200%; } /* a bit faster on mobile */
  input{font-size:15px}
  .pin-wrapper .eye-btn{top:9px;right:10px}
}

/* light mode overrides */
body.light-mode{
  --dark-1:#f4f9ff;--dark-2:#eaf4ff;--text:#102033;--muted:#4b6b8a;
  background: linear-gradient(180deg,#f4f9ff,#eaf4ff);
}
body.light-mode .card{background:#ffffff;color:var(--text);box-shadow:0 8px 30px rgba(8,20,40,0.06)}
body.light-mode .btn{color:var(--text)}
